<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Appointment Form</title>
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous">
    <style>
        body {
            background: #89CFF0;
        }

        .col-form-label {
            font-weight: bolder;
        }

        .form-control {
            border: black;
        }

        form {
            outline-color: black;
        }
    </style>

</head>

<body>

    <div th:insert="~{components/navbar :: navbar}"></div>

    <div class="heading fw-bolder text-center">
        <h1>Book Patient Appointment</h1>
    </div>
    <div class="container mt-5">
    <form method="post" class="justify-content-center " onsubmit="return validateForm()"  action="/saveAppointment">
        <div class="form-group row">
            <label class="col-sm-2 col-form-label" for="email">Email address</label>
        <div class="col-10">
            <input aria-describedby="emailHelp" class="form-control" id="email" name="email" required>
            <small class="form-text text-muted" id="emailHelp">We'll never share your email with anyone else.</small>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-sm-2 col-form-label" for="mobile">Mobile</label>
        <div class="col-sm-10">
            <input class="form-control" id="mobile" name="mobile" required>
        </div>
    </div>
    <div class="form-group row mt-2">
        <label class="col-sm-2 col-form-label" for="lastName">Last Name</label>
        <div class="col-10">
            <input class="form-control" id="lastName" type="text" name="lastName" required>
        </div>
    </div>
    <div class="form-group row mt-2">
        <label class="col-sm-2 col-form-label" for="firstName">First Name</label>
        <div class="col-10">
            <input class="form-control" id="firstName" name="firstName" required>
        </div>
    </div>
    <div class="form-group row mt-2">
        <label class="col-sm-2 col-form-label" for="date">Date</label>
        <div class="col-10">
            <a>Days: Monday-Friday</a>
            <input class="form-control" id="date" type="date" name="date" min="" max="" required>
        </div>
    </div>
    <div class="form-group row mt-2">
        <label class="col-sm-2 col-form-label" for="time">Time</label>
        <div class="col-10">
            <a>Times: 7:30 - 16:00</a>
            <input class="form-control" id="time" type="time" min="07:30" name="time" max="16:00" required>
        </div>
    </div>
    <div class="form-group row text-center mt-3">
        <div class="col-10 offset-sm-1">
            <button class="btn btn-primary fw-bolder" type="submit">Submit</button>
        </div>
    </div>
    </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ZP4ow5/ZfZD67EoP4kOMHj2kI9vK0OlZG1lVdZP5xzT5Ck4Bjh9tk98RHDdYNbPq"
        crossorigin="anonymous"></script>F
    <script>
        // Set min and max date for date input
        const dateInput = document.getElementById('date');
        const today = new Date();
        const minDate = today.toISOString().split('T')[0];
        const maxDate = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate()).toISOString().split('T')[0];

        dateInput.setAttribute('min', minDate);
        dateInput.setAttribute('max', maxDate);

        function validateForm() {
            const date = new Date(document.getElementById('date').value);
            const day = date.getUTCDay(); // Sunday - Saturday: 0 - 6
            if (day === 0 || day === 6) {
                alert("Appointments can only be booked from Monday to Friday.");
                return false;
            }
            return true;
        }


    </script>

</body>

</html>